---
import Layout from "../../layouts/Layout.astro";
export async function getStaticPaths() {
//   const posts = await Astro.glob('../../data/blog-posts/*.md');
  const posts = await Astro.glob('./**/*.md')
  return posts.map(p => ({
    params: { slug: p.file.split('/').pop().split('.').shift() },
    props: { post: p },
  }));
}

const { frontmatter } = Astro.props;

//const { Content, frontmatter } = Astro.props.post;
const { title, description, publishDate } = frontmatter;
// const { slug, readingTime } = getPostData(Astro.props.post);
// const permalink = `${Astro.site.href}${slug}`;
---

<Layout title={frontmatter.title}>
    <main>
        <h1>{frontmatter.title}</h1>
        <slot />
    </main>
</Layout>
